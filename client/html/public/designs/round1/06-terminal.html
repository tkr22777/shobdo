<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Terminal — LEXICON v1.0</title>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,300;0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #0D0D0D;
      --surface: #111111;
      --green: #00FF41;
      --green-dim: #00CC34;
      --green-dark: #003B0E;
      --green-subtle: rgba(0,255,65,0.06);
      --amber: #FFB347;
      --cyan: #00FFFF;
      --text: #CCCCCC;
      --muted: #666666;
      --border: #1E1E1E;
      --selection: rgba(0,255,65,0.15);
    }

    body {
      font-family: 'JetBrains Mono', 'Courier New', monospace;
      background: var(--bg);
      color: var(--green);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Scanline effect */
    body::after {
      content: '';
      position: fixed;
      inset: 0;
      background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0,0,0,0.08) 2px,
        rgba(0,0,0,0.08) 4px
      );
      pointer-events: none;
      z-index: 9999;
    }

    /* ASCII HEADER */
    .terminal-header {
      padding: 24px 32px 16px;
      border-bottom: 1px solid var(--border);
      background: var(--surface);
    }

    .ascii-art {
      font-size: 0.6rem;
      line-height: 1.2;
      color: var(--green);
      white-space: pre;
      margin-bottom: 12px;
    }

    .term-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .term-status {
      font-size: 0.72rem;
      color: var(--muted);
    }

    .term-status span { color: var(--green); }

    .back-link {
      font-size: 0.72rem;
      color: var(--muted);
      text-decoration: none;
    }

    .back-link:hover { color: var(--green); }

    /* SEARCH */
    .prompt-section {
      padding: 16px 32px;
      border-bottom: 1px solid var(--border);
      background: var(--surface);
    }

    .prompt-line {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .prompt-symbol {
      color: var(--green-dim);
      font-size: 0.9rem;
      user-select: none;
    }

    #search {
      flex: 1;
      background: transparent;
      border: none;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      color: var(--green);
      outline: none;
      caret-color: var(--green);
    }

    .cursor {
      display: inline-block;
      width: 8px;
      height: 1em;
      background: var(--green);
      animation: blink 1s step-end infinite;
      vertical-align: text-bottom;
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }

    /* LANG FILTER */
    .filter-section {
      padding: 12px 32px;
      border-bottom: 1px solid var(--border);
      font-size: 0.72rem;
      color: var(--muted);
    }

    .filter-label {
      margin-bottom: 8px;
    }

    .filter-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
    }

    .lang-btn {
      padding: 2px 10px;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--muted);
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.7rem;
      cursor: pointer;
      transition: all 0.1s;
    }

    .lang-btn:hover { border-color: var(--green); color: var(--green); }
    .lang-btn.active { background: var(--green-dark); border-color: var(--green); color: var(--green); }

    /* LAYOUT */
    .term-layout {
      display: flex;
      min-height: calc(100vh - 280px);
    }

    /* WORD LIST — ls -la style */
    .ls-panel {
      width: 360px;
      flex-shrink: 0;
      border-right: 1px solid var(--border);
      overflow-y: auto;
    }

    .ls-header {
      padding: 10px 16px;
      font-size: 0.68rem;
      color: var(--muted);
      border-bottom: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
    }

    #count { color: var(--cyan); }

    .ls-item {
      display: grid;
      grid-template-columns: 80px 1fr 60px;
      gap: 8px;
      padding: 6px 16px;
      font-size: 0.72rem;
      cursor: pointer;
      border-bottom: 1px solid rgba(30,30,30,0.5);
      align-items: center;
      transition: background 0.1s;
    }

    .ls-item:hover { background: var(--green-subtle); }
    .ls-item.active { background: var(--green-dark); }

    .ls-perms { color: var(--muted); font-size: 0.65rem; }
    .ls-name { color: var(--green); font-weight: 600; }
    .ls-lang { color: var(--amber); font-size: 0.65rem; text-align: right; }

    .no-results {
      padding: 20px 16px;
      font-size: 0.75rem;
      color: var(--muted);
    }

    .no-results::before { content: '$ echo "'; color: var(--green-dim); }
    .no-results::after { content: '"'; color: var(--green-dim); }

    /* MAN PAGE */
    .man-panel {
      flex: 1;
      overflow-y: auto;
      padding: 24px 32px;
    }

    .man-empty {
      color: var(--muted);
      font-size: 0.8rem;
      padding-top: 20px;
    }

    .man-empty::before {
      content: '$ man ';
      color: var(--green-dim);
    }

    .man-page {
      animation: typeIn 0.1s ease;
    }

    @keyframes typeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .man-title-bar {
      display: flex;
      justify-content: space-between;
      font-size: 0.72rem;
      color: var(--text);
      margin-bottom: 20px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--border);
    }

    .man-section {
      margin-bottom: 20px;
    }

    .man-section-head {
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--text);
      letter-spacing: 0.05em;
      margin-bottom: 10px;
    }

    .man-word {
      font-size: 2rem;
      font-weight: 700;
      color: var(--green);
      margin-bottom: 4px;
    }

    .man-synopsis {
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .man-pos {
      display: inline-block;
      font-size: 0.72rem;
      color: var(--amber);
      border: 1px solid var(--amber);
      padding: 1px 8px;
      margin-bottom: 16px;
    }

    .man-def {
      font-size: 0.8rem;
      color: var(--text);
      line-height: 1.7;
      padding-left: 16px;
      border-left: 2px solid var(--green-dark);
      margin-bottom: 10px;
    }

    .man-example {
      font-size: 0.75rem;
      color: var(--muted);
      padding-left: 16px;
      font-style: italic;
      margin-bottom: 8px;
    }

    .man-example::before { content: '  # '; color: var(--green-dim); font-style: normal; }

    .man-etym {
      font-size: 0.78rem;
      color: var(--text);
      padding-left: 16px;
      line-height: 1.6;
    }

    .man-tags {
      padding-left: 16px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .man-tag {
      font-size: 0.7rem;
      color: var(--cyan);
    }

    .man-tag::before { content: '['; color: var(--muted); }
    .man-tag::after { content: ']'; color: var(--muted); }

    @media (max-width: 768px) {
      .term-layout { flex-direction: column; }
      .ls-panel { width: 100%; border-right: none; max-height: 40vh; }
      .terminal-header, .prompt-section, .filter-section { padding-left: 16px; padding-right: 16px; }
      .man-panel { padding: 20px 16px; }
      .ascii-art { font-size: 0.5rem; }
    }
  </style>
</head>
<body>

<div class="terminal-header">
  <pre class="ascii-art">
 _     _______  __   _____  ___   ___  _   _
| |   | ____\ \/ /  |_ _/ _ \/ _ \| \ | |
| |   |  _|  \  /    | || | | | | ||  \| |
| |___| |___ /  \    | || |_| | |_| || |\  |
|_____|_____/_/\_\  |___\___/ \___/|_| \_|
</pre>
  <div class="term-nav">
    <span class="term-status">LEXICON v1.0 — <span>RUNNING</span> — uptime: <span id="uptime">00:00:00</span></span>
    <a href="index.html" class="back-link">$ cd ../gallery</a>
  </div>
</div>

<div class="prompt-section">
  <div class="prompt-line">
    <span class="prompt-symbol">lexicon&gt;&nbsp;</span>
    <input type="text" id="search" placeholder="search --query &quot;...&quot;" autocomplete="off" spellcheck="false">
    <span class="cursor"></span>
  </div>
</div>

<div class="filter-section">
  <div class="filter-label">$ ls --lang [filter]</div>
  <div class="filter-chips" id="filterChips"></div>
</div>

<div class="term-layout">
  <div class="ls-panel">
    <div class="ls-header">
      <span>-rwxr-xr-x  word  lang</span>
      <span id="count" style="color:var(--cyan)">0</span>
    </div>
    <div id="wordList"></div>
  </div>
  <div class="man-panel" id="manPanel">
    <div class="man-empty">word [word_name]<br><br>
    <span style="color:var(--muted);font-size:.75rem"># Select a word from the index to read its manual page</span>
    </div>
  </div>
</div>

<script>
const WORDS = [
  { word: "serendipity", language: "English", languageCode: "en", flag: "EN", pronunciation: "/ˌser.ənˈdɪp.ɪ.ti/", partOfSpeech: "noun", definitions: [{ meaning: "The occurrence of pleasant surprises by chance, especially when looking for something else.", example: "A fortunate stroke of serendipity led her to discover the hidden garden." }], etymology: "Coined by Horace Walpole in 1754 from 'Serendip', an old name for Sri Lanka.", synonyms: ["fortune", "luck", "chance"], antonyms: ["misfortune"], relatedWords: [] },
  { word: "ephemeral", language: "English", languageCode: "en", flag: "EN", pronunciation: "/ɪˈfem.ər.əl/", partOfSpeech: "adjective", definitions: [{ meaning: "Lasting for a very short time; transitory.", example: "The ephemeral beauty of cherry blossoms is what makes them so precious." }], etymology: "From Greek 'ephemeros' — lasting only a day.", synonyms: ["fleeting", "transient"], antonyms: ["permanent"], relatedWords: [] },
  { word: "hiraeth", language: "Welsh", languageCode: "cy", flag: "CY", pronunciation: "/ˈhɪr.aɪθ/", partOfSpeech: "noun", definitions: [{ meaning: "A deep, nostalgic longing for a home you cannot return to.", example: "Walking through the old village, she felt a profound hiraeth." }], etymology: "From Welsh 'hir' (long) + 'aeth' (grief).", synonyms: ["longing", "nostalgia"], antonyms: [], relatedWords: [] },
  { word: "komorebi", language: "Japanese", languageCode: "ja", flag: "JA", pronunciation: "/ko.mo.re.bi/", partOfSpeech: "noun", definitions: [{ meaning: "Sunlight filtering through the gaps between leaves of trees.", example: "The photographer spent hours capturing the komorebi in the ancient forest." }], etymology: "Japanese 木(tree)+漏れ(leaking)+日(sun).", synonyms: [], antonyms: [], relatedWords: [] },
  { word: "wabi-sabi", language: "Japanese", languageCode: "ja", flag: "JA", pronunciation: "/ˈwɑː.bi ˈsɑː.bi/", partOfSpeech: "noun", definitions: [{ meaning: "Finding beauty in imperfection, impermanence, and incompleteness.", example: "The cracked glaze on the ancient tea bowl embodied wabi-sabi perfectly." }], etymology: "From 'wabi' (simplicity) and 'sabi' (beauty of age). Zen Buddhism.", synonyms: ["imperfection"], antonyms: [], relatedWords: [] },
  { word: "saudade", language: "Portuguese", languageCode: "pt", flag: "PT", pronunciation: "/saʊˈdɑː.də/", partOfSpeech: "noun", definitions: [{ meaning: "Deep nostalgic longing for something or someone loved and lost.", example: "The fado music filled the room with an aching saudade." }], etymology: "From Latin 'solitas' (solitude).", synonyms: ["longing", "melancholy"], antonyms: [], relatedWords: [] },
  { word: "Weltschmerz", language: "German", languageCode: "de", flag: "DE", pronunciation: "/ˈvɛlt.ʃmɛrts/", partOfSpeech: "noun", definitions: [{ meaning: "Deep sadness about the state of the world.", example: "After reading the news, an overwhelming Weltschmerz settled over him." }], etymology: "German 'Welt' (world) + 'Schmerz' (pain). Jean Paul, 1827.", synonyms: ["world-weariness", "ennui"], antonyms: [], relatedWords: [] },
  { word: "Fernweh", language: "German", languageCode: "de", flag: "DE", pronunciation: "/ˈfɛrn.veː/", partOfSpeech: "noun", definitions: [{ meaning: "An aching to travel; longing for distant, far-off places.", example: "The Fernweh struck her so hard she booked a flight to Patagonia." }], etymology: "German 'fern' (far) + 'Weh' (ache).", synonyms: ["wanderlust"], antonyms: [], relatedWords: [] },
  { word: "dépaysement", language: "French", languageCode: "fr", flag: "FR", pronunciation: "/de.pɛ.iz.mɑ̃/", partOfSpeech: "noun", definitions: [{ meaning: "The disorientation felt when in an unfamiliar environment abroad.", example: "The dépaysement she felt in Tokyo was both unsettling and exhilarating." }], etymology: "French 'dé-'(un-) + 'pays'(country).", synonyms: ["disorientation"], antonyms: [], relatedWords: [] },
  { word: "sobremesa", language: "Spanish", languageCode: "es", flag: "ES", pronunciation: "/ˌso.bɾe.ˈme.sa/", partOfSpeech: "noun", definitions: [{ meaning: "Time spent lingering at the table after a meal, in conversation.", example: "The sobremesa stretched into the afternoon as the family finished the wine." }], etymology: "Spanish 'sobre'(over) + 'mesa'(table).", synonyms: ["lingering"], antonyms: [], relatedWords: [] },
  { word: "আনন্দ", language: "Bengali", languageCode: "bn", flag: "BN", pronunciation: "/aːnɔnd̪o/", partOfSpeech: "noun", definitions: [{ meaning: "Pure, uncomplicated joy; bliss; delight.", example: "The children's আনন্দ was boundless as they played in the monsoon rain." }], etymology: "Sanskrit 'ānanda' (bliss). Hindu/Buddhist philosophy.", synonyms: ["joy", "bliss"], antonyms: [], relatedWords: [] },
  { word: "আকাশ", language: "Bengali", languageCode: "bn", flag: "BN", pronunciation: "/aːkaʃ/", partOfSpeech: "noun", definitions: [{ meaning: "The sky; the open expanse above; ether. Boundless freedom.", example: "She gazed at the আকাশ and dreamed of everything beyond the horizon." }], etymology: "Sanskrit 'ākāśa' — one of the five classical elements.", synonyms: ["sky", "heaven"], antonyms: [], relatedWords: [] },
  { word: "jugaad", language: "Hindi", languageCode: "hi", flag: "HI", pronunciation: "/dʒʊˈɡɑːd/", partOfSpeech: "noun", definitions: [{ meaning: "A frugal, creative workaround or improvised solution.", example: "Using a fan and wet cloth as an air cooler was pure jugaad." }], etymology: "Hindi/Punjabi. 'Frugal innovation'.", synonyms: ["hack", "improvisation"], antonyms: [], relatedWords: [] },
  { word: "abbiocco", language: "Italian", languageCode: "it", flag: "IT", pronunciation: "/ab.ˈbjok.ko/", partOfSpeech: "noun", definitions: [{ meaning: "The drowsiness felt after eating a large meal.", example: "After the enormous Sunday feast, an inevitable abbiocco descended." }], etymology: "Italian dialect, from 'abbiocarsi' (to doze off).", synonyms: ["drowsiness"], antonyms: [], relatedWords: [] },
  { word: "mamihlapinatapai", language: "Yaghan", languageCode: "yag", flag: "YAG", pronunciation: "/mɑːmɪhlɑːpɪnɑːtɑːpɑɪ/", partOfSpeech: "noun", definitions: [{ meaning: "A look between two people, each wishing the other would initiate something both desire.", example: "Their eyes met in pure mamihlapinatapai — both wanting to speak, neither daring to." }], etymology: "Yaghan language, Tierra del Fuego. Critically endangered.", synonyms: [], antonyms: [], relatedWords: [] },
  { word: "toska", language: "Russian", languageCode: "ru", flag: "RU", pronunciation: "/ˈtos.kə/", partOfSpeech: "noun", definitions: [{ meaning: "A longing with nothing to long for; vague restlessness without cause.", example: "On grey winter afternoons, toska would settle over him like fog." }], etymology: "Russian тоска. Nabokov: 'spiritual anguish, often without cause'.", synonyms: ["melancholy", "ennui"], antonyms: [], relatedWords: [] },
  { word: "goya", language: "Urdu", languageCode: "ur", flag: "UR", pronunciation: "/ˈɡoɪ.ə/", partOfSpeech: "noun", definitions: [{ meaning: "Suspension of disbelief when a story is so convincing you forget it's not real.", example: "The novelist's prose created complete goya — the reader forgot the world." }], etymology: "Urdu گویا. The power of great narrative.", synonyms: ["immersion"], antonyms: [], relatedWords: [] },
  { word: "culaccino", language: "Italian", languageCode: "it", flag: "IT", pronunciation: "/ku.laˈtʃiː.no/", partOfSpeech: "noun", definitions: [{ meaning: "The ring or mark left on a table by a wet glass or cup.", example: "The old bar was covered in culaccini from decades of evenings well spent." }], etymology: "Italian 'culo' (bottom). Circular impression of a moist vessel.", synonyms: ["ring", "watermark"], antonyms: [], relatedWords: [] },
  { word: "forelsket", language: "Norwegian", languageCode: "no", flag: "NO", pronunciation: "/fɔˈrɛls.kət/", partOfSpeech: "noun", definitions: [{ meaning: "The overwhelming euphoric feeling at the beginning of falling in love.", example: "She was in the full grip of forelsket — the world had turned golden." }], etymology: "Norwegian, from 'forelske seg' (to fall in love).", synonyms: ["infatuation", "euphoria"], antonyms: [], relatedWords: [] },
  { word: "jayus", language: "Indonesian", languageCode: "id", flag: "ID", pronunciation: "/ˈdʒaɪ.ʊs/", partOfSpeech: "noun", definitions: [{ meaning: "A joke so unfunny it paradoxically becomes funny.", example: "His timing was terrible and the room dissolved into laughter — pure jayus." }], etymology: "Indonesian slang. Humor of jokes that fail completely.", synonyms: ["cringe humor"], antonyms: [], relatedWords: [] }
];

const langs = ['All', ...new Set(WORDS.map(w => w.language))];
let currentFilter = 'All';
let activeWord = null;
let startTime = Date.now();

// Uptime counter
setInterval(() => {
  const s = Math.floor((Date.now() - startTime) / 1000);
  const h = String(Math.floor(s/3600)).padStart(2,'0');
  const m = String(Math.floor((s%3600)/60)).padStart(2,'0');
  const sec = String(s%60).padStart(2,'0');
  document.getElementById('uptime').textContent = `${h}:${m}:${sec}`;
}, 1000);

function init() {
  const chips = document.getElementById('filterChips');
  langs.forEach(l => {
    const btn = document.createElement('button');
    btn.className = 'lang-btn' + (l === 'All' ? ' active' : '');
    btn.textContent = l.substring(0,8);
    btn.title = l;
    btn.addEventListener('click', () => {
      currentFilter = l;
      document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      renderList();
    });
    chips.appendChild(btn);
  });

  document.getElementById('search').addEventListener('input', renderList);
  renderList();
}

function renderList() {
  const q = document.getElementById('search').value.toLowerCase();
  const filtered = WORDS.filter(w => {
    const matchLang = currentFilter === 'All' || w.language === currentFilter;
    const matchQ = !q || w.word.toLowerCase().includes(q) || w.language.toLowerCase().includes(q);
    return matchLang && matchQ;
  });

  const container = document.getElementById('wordList');
  container.innerHTML = '';
  document.getElementById('count').textContent = filtered.length;

  if (!filtered.length) { container.innerHTML = '<div class="no-results">no_results_found</div>'; return; }

  filtered.forEach(w => {
    const item = document.createElement('div');
    item.className = 'ls-item' + (activeWord === w.word ? ' active' : '');
    item.innerHTML = `<span class="ls-perms">-rw-r--r--</span><span class="ls-name">${w.word}</span><span class="ls-lang">[${w.languageCode.toUpperCase()}]</span>`;
    item.addEventListener('click', () => { activeWord = w.word; showManPage(w, item); });
    container.appendChild(item);
  });
}

function showManPage(w, el) {
  document.querySelectorAll('.ls-item').forEach(i => i.classList.remove('active'));
  el.classList.add('active');

  const syns = w.synonyms.length ? w.synonyms.map(s => `<span class="man-tag">${s}</span>`).join(' ') : '<span style="color:var(--muted)">none</span>';
  const ants = w.antonyms.length ? w.antonyms.map(s => `<span class="man-tag">${s}</span>`).join(' ') : '<span style="color:var(--muted)">none</span>';

  document.getElementById('manPanel').innerHTML = `
    <div class="man-page">
      <div class="man-title-bar">
        <span>${w.word.toUpperCase()}(1)</span>
        <span>LEXICON MANUAL</span>
        <span>${w.word.toUpperCase()}(1)</span>
      </div>
      <div class="man-section">
        <div class="man-section-head">NAME</div>
        <div class="man-word">${w.word}</div>
        <div class="man-synopsis">${w.pronunciation} — ${w.language}</div>
        <span class="man-pos">${w.partOfSpeech}</span>
      </div>
      <div class="man-section">
        <div class="man-section-head">DESCRIPTION</div>
        <div class="man-def">${w.definitions[0].meaning}</div>
        ${w.definitions[0].example ? `<div class="man-example">${w.definitions[0].example}</div>` : ''}
      </div>
      <div class="man-section">
        <div class="man-section-head">ETYMOLOGY</div>
        <div class="man-etym">${w.etymology}</div>
      </div>
      <div class="man-section">
        <div class="man-section-head">SEE ALSO</div>
        <div class="man-tags">${syns}</div>
      </div>
      <div class="man-section">
        <div class="man-section-head">ANTONYMS</div>
        <div class="man-tags">${ants}</div>
      </div>
      <div style="font-size:.65rem;color:var(--muted);margin-top:32px;border-top:1px solid var(--border);padding-top:12px">
        LEXICON v1.0  —  Language: ${w.language}  —  Code: ${w.languageCode.toUpperCase()}
      </div>
    </div>
  `;
}

init();
</script>
</body>
</html>
